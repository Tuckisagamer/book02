---

## Section 4: Creating and Managing Tables

Once you've defined your model classes in Peewee, the next step is to create
the corresponding tables in your database. This is where Peewee’s integration
with SQLite really shines — it allows you to programmatically generate the
database schema from your model definitions.

### Creating Tables

Use the `create_tables()` method to generate tables based on your models:

```python
from models import db, Airplane, Pilot

db.connect()
db.create_tables([Airplane, Pilot])
db.close()
```

This example creates tables for both `Airplane` and `Pilot` in the connected
SQLite database. If the tables already exist, Peewee will skip them.

> **Helpful Hint:**
> It's common practice to create all your tables in a single step during
> development, but in production environments, this is usually managed by
> database migrations.

### Checking for Table Existence

If you want to ensure a table doesn't already exist before creating it, use
Peewee’s built-in checks:

```python
if not Airplane.table_exists():
    db.create_tables([Airplane])
```

This check avoids unnecessary errors from attempting to recreate tables.

### Dropping Tables (For Development Only)

You can remove tables with `drop_tables()`:

```python
db.drop_tables([Airplane, Pilot])
```

> **Warning:**
> Dropping a table deletes all data inside it. Only do this during development
> or if you're sure the data is disposable.

### Automating Initialization

A common pattern is to wrap database setup in a small script or `init_db()`
function that you can call at the start of your project:

```python
def init_db():
    db.connect()
    db.create_tables([Airplane, Pilot])
    db.close()

if __name__ == "__main__":
    init_db()
```

This keeps your startup logic clean and makes it easy to reset your schema
during development.

With your tables created and ready, you can now begin adding, saving, and
managing real data inside your application. That’s what we’ll cover next.

