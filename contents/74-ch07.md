---

## Section 4: Working with CSV Files

You’ve already learned how to read and write plain text. Now let’s explore a
**structured** way to store data in a file — one that works like a spreadsheet.
It’s called a CSV file.

---

### What Is a CSV?

**CSV** stands for **Comma-Separated Values**. It’s a plain text format where
each line represents one row, and each value in the row is separated by a comma.

Here’s what a simple `students.csv` file might look like:

```
name,age,grade
Alice,15,A
Bob,17,B
Carlos,16,A
```

You can open CSV files in Excel, Google Sheets, or Python. They’re used
everywhere — from business reports to APIs to machine learning datasets.

---

### Reading a CSV File with Python

Let’s read that sample `students.csv` file from above:

```python
with open("students.csv", "r") as file:
    for line in file:
        print(line.strip())
```

Output:

```
name,age,grade
Alice,15,A
Bob,17,B
Carlos,16,A
```

Each line is just a string. To split it into separate values, use `.split(",")`:

```python
with open("students.csv", "r") as file:
    for line in file:
        fields = line.strip().split(",")
        print("Fields:", fields)
```

Now you get a list:

```
Fields: ['name', 'age', 'grade']
Fields: ['Alice', '15', 'A']
Fields: ['Bob', '17', 'B']
```

Splitting on a simple character like `,` is actually quite fragile.  Later
we'll discuss a better option.

---

### Skipping the Header Row

Usually, the first row is the header — the names of the columns. You don’t want
to process it like regular data.

Here’s one way to skip it:

```python
with open("students.csv", "r") as file:
    next(file)  # Skip header row
    for line in file:
        fields = line.strip().split(",")
        print(fields)
```

---

### Writing Your Own CSV

You can use `",".join()` to create lines to save in a CSV:

```python
with open("grades.csv", "w") as file:
    file.write("name,score\n")
    file.write("Alice,90\n")
    file.write("Bob,85\n")
```

Later, you can add lines with `"a"` mode, for append:

```python
with open("grades.csv", "a") as file:
    file.write("Carlos,88\n")
```

---

### CSV vs JSON vs Plain Text

| Format  | Best For                     | Structure                    |
| ------- | ---------------------------- | ---------------------------- |
| `.txt`  | Simple, human-readable notes | No structure                 |
| `.csv`  | Tables and spreadsheets      | Rows + columns               |
| `.json` | Complex or nested data       | Key-value trees, lists, etc. |

---

### Recommended: Using the `csv` Module

Splitting or joining your records by comma can be a bit fragile.  What if your
input has a column that's a string and that string has a comma?  This can
require quite a complex system to parse.

Python includes a built-in module called `csv` that makes this easier:

```python
import csv

with open("students.csv", "r") as file:
    reader = csv.reader(file)
    next(reader)  # Skip header
    for row in reader:
        print("Name:", row[0], "| Age:", row[1], "| Grade:", row[2])
```

This helps avoid issues with commas inside text (like `"Smith, Jr."`) and is
considered more reliable than manual `.split()` in production code.

---

### Practice Challenge

1. Create a file called `inventory.csv` and add the following rows:

```
item,quantity,price
Notebook,12,2.50
Pen,30,1.20
Eraser,15,0.80
```

2. Write a Python program that:

   * Reads the file
   * Skips the header
   * Calculates the total value of all inventory (`quantity × price`)
   * Prints the total value

