---

## Section 5: Filtering Joined Data

When you're working with joined tables, you can still use `WHERE`, `AND`, `OR`,
and other filtering tools — just like with single-table queries. In fact, joins
*become even more powerful* when combined with filters, allowing you to narrow
your results to exactly what you need.

### 1. Filtering Across Tables

A join merges columns from multiple tables into one temporary result set. That
means your `WHERE` clause can filter based on *any column from any table* in
the join.

**Example:** Show the names of students enrolled in Biology 101.

```sql
SELECT students.name
FROM students
JOIN enrollments ON students.id = enrollments.student_id
JOIN courses ON enrollments.course_id = courses.id
WHERE courses.title = 'Biology 101';
```

You’re filtering by a value (`title`) in a different table than where you’re
selecting from — and that’s perfectly okay.

### 2. Using AND and OR with Joins

You can add multiple conditions across tables:

```sql
SELECT students.name, courses.title
FROM students
JOIN enrollments ON students.id = enrollments.student_id
JOIN courses ON enrollments.course_id = courses.id
WHERE students.grade_level = 11 AND courses.subject = 'Science';
```

This query might return all 11th-grade students taking a science class.

Use parentheses to group your conditions if you combine `AND` and `OR`:

```sql
WHERE (courses.subject = 'Science' OR courses.subject = 'Math')
AND students.grade_level = 11
```

### 3. Filtering with LEFT JOINs

With `LEFT JOIN`, you may need to check for **missing matches** using `IS NULL`.

**Example:** List all students who are not enrolled in any course.

```sql
SELECT students.name
FROM students
LEFT JOIN enrollments ON students.id = enrollments.student_id
WHERE enrollments.course_id IS NULL;
```

This works because unmatched rows from the `LEFT JOIN` will have `NULL` values
in the `enrollments` table.

### 4. Watch for Ambiguous Columns

If two joined tables both have a column named `id` or `name`, your query may
become ambiguous.

To prevent this:

* Always **prefix** column names with the table name (or an alias)
* This makes it clear which table you’re referring to

```sql
SELECT students.name, courses.name -- ← This is ambiguous if both have 'name'
```

Instead, write:

```sql
SELECT students.name AS student_name, courses.title AS course_title
```

> **Helpful Hint:**
> Use filters *after* your joins — otherwise, you risk filtering out data
> *before* it has a chance to match.

