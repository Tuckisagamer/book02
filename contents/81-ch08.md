---

## Section 1: Understanding Relationships Between Tables

So far, your experience with SQL has likely involved one table at a time —
selecting records from a `students` table or inserting rows into a `courses`
table. But real-world databases rarely live in isolation. Instead, they’re
**relational** — meaning multiple tables are *connected* through meaningful
relationships.

This section introduces the *why* and *how* of relational connections in
SQL. By the end, you’ll understand what foreign keys are, how different types of
relationships work, and why you *shouldn’t* put everything in one giant table.

### Why Split Data Into Multiple Tables?

Imagine you’re building a database for a high school. You might need to track:

* Students
* Classes
* Teachers
* Which students are enrolled in which classes

If you tried to store everything in one big table, it would be:

* **Repetitive** – Every student would repeat class and teacher data
* **Error-prone** – One typo in a teacher’s name could break the connection
* **Unscalable** – Adding new courses or updating data would become messy

Instead, you break this into **logical tables** for each record type:

* `student` (ID, name, grade)
* `course` (ID, title, subject)
* `enrollment` (student_id, course_id)
* `teacher` (ID, name)

Each table stores only the data relevant to its subject — and they’re tied
together through relationships.

### What Is a Foreign Key?

A **foreign key** is a column that connects one table to the **primary key** of
another.

For example:

* `students.id` is the primary key for a student
* `enrollments.student_id` is a foreign key pointing to that student

This lets you *connect a record in one table to a record in another*.

```sql
-- A row in the enrollments table might look like:
(student_id: 101, course_id: 12)

-- Meaning: student #101 is enrolled in course #12
```

### Types of Relationships

#### One-to-Many

One student can be enrolled in **many** courses, but each enrollment belongs to
**one** student.

* `students` → `enrollments`
* `teachers` → `courses`

One row in the first table can relate to **many** rows in the second.

#### Many-to-Many

Some relationships go both ways. A student can take many courses, and a course
can have many students. This is a **many-to-many** relationship — and it
requires a third “link” table:

* `students`
* `courses`
* `enrollments` ← the join table

Each record in `enrollments` connects one student to one course.

### 4. Example Schema Diagram

```
+-----------+       +-------------+       +-----------+
| students  |       | enrollments |       | courses   |
|-----------|       |-------------|       |-----------|
| id (PK)   |<----->| student_id  |       | id (PK)   |
| name      |       | course_id   |<----->| title     |
+-----------+       +-------------+       +-----------+
```

This shows how IDs are used to link data across tables.

### 5. Why Relationships Matter

With relationships in place:

* You **avoid duplication** (no need to repeat course names for every student)
* You **maintain consistency** (change a course title once, not 100 times)
* You can write queries that combine data across tables — which is what the rest
  of this chapter will teach you to do

> **Helpful Hint:**
> Think of each table as a piece of a puzzle. The `JOIN` operation (coming next)
> lets you snap those pieces together to see the full picture.

