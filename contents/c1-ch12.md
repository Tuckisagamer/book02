\newpage

# Chaper 12: Using a Database ORM

## Section 1: Why Use an ORM?

As your projects grow more complex, you’ll often need to save and retrieve data
from a database.

In earlier chapters, you interacted with databases using raw SQL — writing
commands like `SELECT * FROM users WHERE id = 3`.

While powerful, this approach has some downsides. It’s easy to make mistakes,
it's harder to refactor, and it requires switching between two different
languages: Python and SQL.

This is where an **Object-Relational Mapper (ORM)** comes in.

### What is an ORM?

An ORM is a tool that allows you to work with databases using Python objects
instead of SQL commands. Instead of writing `INSERT INTO airplanes (...)`, you
can create a new object like this:

```python
plane = Airplane(name="Falcon", range_km=2500)
plane.save()
```

Behind the scenes, the ORM translates your Python code into the appropriate SQL
statements.

### Why is this Useful?

Here are a few key reasons why ORMs are widely used:

* Cleaner Code: Your logic stays in Python — no need to mix languages.
* Less Repetition: You don’t have to rewrite SQL queries or remember table
  structure details.
* Easier to Refactor: If you rename a column or change data types, the changes
  happen in your models, not scattered across many raw SQL strings.
* Security: ORMs automatically escape dangerous input, helping to prevent SQL
  injection attacks.
* Integration: ORMs are easier to plug into web frameworks like Bottle,
  FastAPI, or Django.

### How Peewee Fits In

There are many ORMs in the Python world. In this book, we use **Peewee**
because it's:

* Lightweight and beginner-friendly
* Easy to set up
* Compatible with SQLite (a simple, file-based database that requires no server)
* Powerful enough to handle relationships, joins, and migrations

Later in this chapter, you’ll define your first database models using Peewee
and connect them to real applications.

