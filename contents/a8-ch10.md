---

## Section 8: Building a Simple Multi-Page Site

Now that you've learned how to route URLs, serve templates, handle forms, and
include static files, you're ready to build a **complete mini-website** using
Bottle.

In this section, you'll combine all your skills to create a multi-page app
that:

* Has a homepage
* Lists items (airplanes)
* Lets users submit a new item through a form
* Confirms their submission
* Uses shared layouts and CSS styling

### Project Structure

Here's how your project folder might look:

```
project/
├── app.py
├── views/
│   ├── layout.tpl
│   ├── home.tpl
│   ├── planes.tpl
│   ├── add_plane.tpl
│   ├── submitted.tpl
├── static/
│   └── style.css
```

### Step 1: Homepage Route

The home page welcomes the user:

```python
@route('/')
def home():
    content = template('home')
    return template('layout', title="Home", content=content)
```

`views/home.tpl`:

```html
<h2>Welcome to the Airplane Showcase</h2>
<p>Browse our aircraft or add your favorite!</p>
<ul>
  <li><a href="/planes">View Planes</a></li>
  <li><a href="/add">Submit a Plane</a></li>
</ul>
```

### Step 2: Displaying a List of Airplanes

Create a list of airplane dictionaries (or retrieve from a file/database):

```python
airplanes = [
    {"name": "F-22 Raptor", "type": "Fighter"},
    {"name": "Cessna 172", "type": "Passenger"}
]

@route('/planes')
def show_planes():
    content = template('planes', airplanes=airplanes)
    return template('layout', title="Airplane List", content=content)
```

`views/planes.tpl`:

```html
<h2>All Airplanes</h2>
<ul>
% for plane in airplanes:
  <li>{{ plane.name }} ({{ plane.type }})</li>
% end
</ul>
```

### Step 3: Add a New Plane

Serve a form to add a new airplane:

```python
@route('/add')
def add_plane_form():
    content = template('add_plane')
    return template('layout', title="Add a Plane", content=content)
```

`views/add_plane.tpl`:

```html
<h2>Add a New Plane</h2>
<form action="/add" method="POST">
  <label for="name">Plane Name:</label>
  <input type="text" name="name"><br>
  <label for="type">Plane Type:</label>
  <input type="text" name="type"><br>
  <button type="submit">Submit</button>
</form>
```

### Step 4: Handle Form Submission

Accept the POST data and add it to the in-memory list:

```python
@route('/add', method='POST')
def submit_plane():
    name = request.forms.get('name')
    plane_type = request.forms.get('type')
    airplanes.append({"name": name, "type": plane_type})
    content = template('submitted', name=name)
    return template('layout', title="Thank You", content=content)
```

`views/submitted.tpl`:

```html
<h2>Thank you!</h2>
<p>You submitted: <strong>{{ name }}</strong></p>
<p><a href="/planes">See all planes</a></p>
```

### Step 5: Test Your Full App

Visit each route:

* `/` for the homepage
* `/planes` to see the list
* `/add` to submit a new plane

Try submitting a few different entries and watch the list grow. You've now
built your first full-stack app!

### Summary

In this section, you:

* Created multiple pages with Bottle routes
* Used shared templates and layouts
* Passed and displayed form data
* Managed a dynamic list of airplanes

