---

## Section 4: Serving HTML Pages from FastAPI

So far, your FastAPI server has returned JSON or plain text. While that’s useful
for APIs, real websites are made with HTML pages that the browser renders
visually.

In this section, you’ll learn how to:

* Serve HTML from your FastAPI server
* Organize a `/templates` directory
* Return basic HTML content in response to browser visits

### 1. Returning HTML with FastAPI

FastAPI can return HTML by using a special response class called `HTMLResponse`.

Here’s a basic example:

```python
from fastapi.responses import HTMLResponse

@app.get("/about", response_class=HTMLResponse)
def about_page():
    return """
    <html>
      <head><title>About Us</title></head>
      <body>
        <h1>Welcome to our site!</h1>
        <p>This is the About page.</p>
      </body>
    </html>
    """
```

* This route returns raw HTML as a string.
* FastAPI tells the browser this is HTML, not JSON.

### 2. Why Use Templates?

Typing HTML directly in Python strings gets messy quickly.

Instead, store HTML files in a separate folder called `templates`. This keeps
your server code clean and your HTML files reusable.

### 3. Set Up a Templates Folder

First, create a folder called `templates` inside your project directory:

```
fastserver/
├── main.py
└── templates/
    └── homepage.html
```

Then install Jinja2 (if not already included):

```bash
pip install jinja2
```

### 4. Load and Render an HTML File

FastAPI uses `Jinja2Templates` to load HTML from the templates folder.

Update `main.py` like this:

```python
from fastapi.templating import Jinja2Templates
from fastapi.requests import Request
from fastapi.responses import HTMLResponse

templates = Jinja2Templates(directory="templates")

@app.get("/", response_class=HTMLResponse)
def home(request: Request):
    return templates.TemplateResponse("homepage.html", {"request": request})
```

And in `templates/homepage.html`:

```html
<!DOCTYPE html>
<html>
  <head><title>Home</title></head>
  <body>
    <h1>Welcome to My Site!</h1>
    <p>This page is served by Python and FastAPI.</p>
  </body>
</html>
```

Separating your logic (in Python) from your layout (in HTML) is a very big deal
as your project grows larger.  We'll revisit this topic later.

### 5. Dynamic Content (Preview)

In later sections, you’ll learn to inject values into the page using Jinja
syntax like:

```html
<p>Hello {{ name }}!</p>
```

For now, just focus on loading static pages from your server.

> **Helpful Hint:**
> Always include the `request` object in the `TemplateResponse` context — even
> if you’re not using it yet. FastAPI’s Jinja2 integration depends on it!

