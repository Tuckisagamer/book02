---

## Section 4: Using Templates for Dynamic Content

So far, you’ve returned either raw HTML strings or loaded full `.html` files
from disk. That’s great for static content — but most web applications need to
render **dynamic content**: pages that change depending on what the user is
doing or what’s stored in the system.

Bottle includes a simple built-in template engine that lets you write HTML with
Python variables and logic injected. In this section, you’ll learn how to build
dynamic pages using `.tpl` files and the `template()` function.

### What Is a Template?

A **template** is an HTML file that contains placeholder variables, which are
filled in by your Python code before the page is sent to the browser.

For example, this `.tpl` file displays a welcome message:

```html
<!-- views/welcome.tpl -->
<!DOCTYPE html>
<html>
  <head><title>Welcome</title></head>
  <body>
    <h1>Welcome, {{ name }}!</h1>
  </body>
</html>
```

The `{{ name }}` is a placeholder that Bottle will replace with an actual
value.

### Using the `template()` Function

To use this template from your Bottle app:

```python
from bottle import route, template

@route('/hello/<username>')
def greet(username):
    return template('welcome', name=username)
```

When someone visits `http://localhost:8080/hello/Alex`, they’ll see:

```
Welcome, Alex!
```

> **Helpful Hint:**
> Template files go in a folder called `views/` by default. Don’t forget the
> `.tpl` file extension!

### Looping Through a List in a Template

Templates can also display dynamic lists of data. Suppose you want to show a
list of airplanes:

```python
planes = [
    {"name": "F-16", "type": "Fighter"},
    {"name": "Boeing 737", "type": "Passenger"},
    {"name": "A-10 Thunderbolt", "type": "Attack"}
]
```

You can pass that list into the template:

```python
@route('/planes')
def show_planes():
    return template('planes', airplanes=planes)
```

And write a loop in your template file:

```html
<!-- views/planes.tpl -->
<!DOCTYPE html>
<html>
  <head><title>Airplane List</title></head>
  <body>
    <h1>Airplanes</h1>
    <ul>
      % for plane in airplanes:
        <li>{{ plane['name'] }} – {{ plane['type'] }}</li>
      % end
    </ul>
  </body>
</html>
```

Bottle uses a simple syntax that allows Python code blocks inside templates
with `%` and variable output with `{{ }}`.

### Displaying Conditional Content

You can also use `if` statements in your templates:

```html
% if user == 'admin':
  <p>Welcome, administrator.</p>
% else:
  <p>Hello, user.</p>
% end
```

### Summary

Templates give your app the ability to:

* Separate design (HTML) from logic (Python)
* Fill HTML with dynamic content like lists, user input, or database records
* Keep your code more organized and easier to maintain

Next up, we’ll make these templates even more interactive by collecting user
input through HTML forms.

