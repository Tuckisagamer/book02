---

## Section 7: Using Template Layouts and Includes

As your website grows, you'll find that many pages share common elements like a
navigation bar, footer, or overall page structure. Repeating the same HTML in
every file is not only tedious — it's hard to maintain.

Bottle’s template engine allows you to use **template includes** and **layout
structures** to keep your code DRY (Don’t Repeat Yourself). This section shows
you how.

### The Problem: Repeating Yourself

Look at this example from two different pages:

```html
<!DOCTYPE html>
<html>
<head><title>Page A</title></head>
<body>
  <h1>Page A</h1>
  <p>Some content here.</p>
</body>
</html>
```

```html
<!DOCTYPE html>
<html>
<head><title>Page B</title></head>
<body>
  <h1>Page B</h1>
  <p>Different content here.</p>
</body>
</html>
```

Every file repeats the same structure. Instead, you can extract the layout into
a **base template**.

### Creating a Base Layout

Create a file called `views/layout.tpl`:

```html
<!DOCTYPE html>
<html>
<head>
  <title>{{ title }}</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header>
    <h1>My Bottle Site</h1>
    <nav>
      <a href="/">Home</a> |
      <a href="/planes">Planes</a> |
      <a href="/form">Submit</a>
    </nav>
    <hr>
  </header>

  {{!content}}

  <footer>
    <hr>
    <p>&copy; 2026 Bottle App</p>
  </footer>
</body>
</html>
```

The special tag `{{!content}}` acts as a **placeholder** for the content from
your other templates.  The `!` is required to render the html content properly,
otherwise, the Bottle templating engine will escape the `<` into html entities
for security purposes.

Instead of rendering a full template directly, you **pass it into a layout**
like this:

```python
from bottle import SimpleTemplate

@route('/example')
def example():
    content = template('content', message='This is the inner content')
    return SimpleTemplate(name='layout').render(
        title='Example Page', content=content)
```

Here, `'content'` is the actual content page, and `'layout'` is the page
wrapper.

> **Helpful Hint:**
> Bottle’s built-in template system doesn’t have native inheritance, so this
> "manual include" pattern is a workaround for creating layout-like behavior.

---

### Breaking Content into Partial Includes

You can also include chunks like navigation or footers using `% include` in your
template:

```html
<!-- layout.tpl -->
<body>
  % include('nav')
  {{!content}}
  % include('footer')
</body>
```

This lets you reuse elements like a menu or banner across every page, without copying the HTML.

---

### Summary

Using layout templates helps you:

* Reuse shared HTML across pages
* Maintain consistent navigation and design
* Separate core page structure from content

In the next section, we’ll complete your Bottle app by building out a small
multi-page airplane database using everything you've learned so far.

